---
title: Install Vector On Docker
sidebar_label: Docker
description: Install Vector on the Docker platform
source_url: https://github.com/timberio/vector/tree/master/distribution/docker
---

import CodeExplanation from '@site/src/components/CodeExplanation';
import ConfigExample from '@site/src/components/ConfigExample';
import SVG from 'react-inlinesvg';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Vector maintains the [`timberio/vector` Docker images][urls.docker_hub_vector]
available on [Docker Hub][urls.docker_hub_vector] which come pre-installed
with Vector and any recommended system dependencies. These images are available
for x86_64, ARM64, and ARMv7
architectures.

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the template located at:

     website/docs/setup/installation/platforms/docker.md.erb
-->

## Install

<Tabs
  centered={true}
  className="rounded"
  defaultValue="docker-cli"
  values={[{"label":"Docker CLI","value":"docker-cli"},{"label":"Docker Compose","value":"docker-compose"}]}>
<TabItem value="docker-cli">
<Tabs
  block={true}
  defaultValue="docker-cli-daemon"
  values={[{"label":"Daemon Strategy","value":"docker-cli-daemon"},{"label":"Sidecar Strategy","value":"docker-cli-sidecar"},{"label":"Service Strategy","value":"docker-cli-service"}]}>

<TabItem value="docker-cli-daemon">

<SVG src="/img/deployment-strategies-docker-daemon.svg" />

As shown in the diagram above, the [daemon deployment strategy][docs.strategies.daemon]
is designed for data collection on a single host. In the context of Docker,
Vector is deplyed in it's own container, just like your other services, and it
collects and forwards all data on the host.
[Learn more...][docs.strategies.daemon]

---

<div className="steps steps--h3">

1. ### Configure Vector

   <ConfigExample
    format="toml"
    path="vector.toml"
    sourceName={"docker"}
    sinkName={null} />

2. ### Start the Vector container

   ```bash
   docker run \
     -v $PWD/vector.toml:/etc/vector/vector.toml:ro \
     -v /var/run/docker.sock:/var/run/docker.sock \
     timberio/vector:latest-alpine
   ```

   <CodeExplanation>

   * The `-v $PWD/vector.to...` flag passes your custom configuration to Vector.
   * The `-v /var/run/docke...` flag ensures that Vector has access to the Docker API.
   * The `timberio/vector:latest-alpine` is the default image we've chosen, you are welcome to use [other image variants][docs.platforms.docker#variants].

   </CodeExplanation>

   That's it! Simple and to the point. Hit `ctrl+c` to exit.

</div>
</TabItem>

<TabItem value="docker-cli-sidecar">

<SVG src="/img/deployment-strategies-docker-sidecar.svg" />

As shown in the diagram above, the [sidecar deployment strategy][docs.strategies.sidecar]
is designed to collect data from a single service. Vector has a 1 to 1
relationship with each service on the host. [Learn more...][docs.strategies.sidecar]

---

<div className="steps steps--h3">

1. ### Configure Vector

   <ConfigExample
    format="toml"
    path="vector.toml"
    sourceName={"file"}
    sinkName={null} />

2. ### Start the Vector container

   ```bash
   docker run \
     -v $PWD/vector.toml:/etc/vector/vector.toml:ro \
     -v /var/log \
     timberio/vector:latest-alpine
   ```

   <CodeExplanation>

   * The `-v $PWD/vector.to...` flag passes your custom configuration to Vector.
   * The `-v /var/log` flag ensures that Vector has access to your app's logging directory, adjust as necessary.
   * The `timberio/vector:latest-alpine` is the default image we've chosen, you are welcome to use [other image variants][docs.platforms.docker#variants].

   </CodeExplanation>

   That's it! Simple and to the point. Hit `ctrl+c` to exit.

</div>
</TabItem>

<TabItem value="docker-cli-service">

<SVG src="/img/deployment-strategies-docker-service.svg" />

As shown in the diagram above, the [service deployment strategy][docs.strategies.service]
treats Vector like any other service. Vector must be configured with [a source
that receives data over the network][urls.vector_receiving_sources], and the
upstream service must use that protocol to send data to Vector. This could be
another Vector instance using the [`vector` sink][docs.sinks.vector] or any
service that can send log data over the configured protocol.
[Learn more...][docs.strategies.daemon]

---

<div className="steps steps--h3">

1. ### Configure Vector

   <ConfigExample
    format="toml"
    path="vector.toml"
    sourceName={"http"}
    sinkName={null} />

2. ### Start the Vector container

   ```bash
   docker run \
     -v $PWD/vector.toml:/etc/vector/vector.toml:ro \
     -p 80:80 \
     timberio/vector:latest-alpine
   ```

   <CodeExplanation>

   * The `-v $PWD/vector.to...` flag passes your custom configuration to Vector.
   * The `-p 80:80` flag ensures that port 80 is exposed for network communication.
   * The `timberio/vector:latest-alpine` is the default image we've chosen, you are welcome to use [other image variants][docs.platforms.docker#variants].

   </CodeExplanation>

   That's it! Simple and to the point. Hit `ctrl+c` to exit.

</div>
</TabItem>
</Tabs>
</TabItem>
<TabItem value="docker-compose">
<Tabs
  block={true}
  defaultValue="docker-compose-daemon"
  values={[{"label":"Daemon Strategy","value":"docker-compose-daemon"},{"label":"Sidecar Strategy","value":"docker-compose-sidecar"},{"label":"Service Strategy","value":"docker-compose-service"}]}>

<TabItem value="docker-compose-daemon">

<SVG src="/img/deployment-strategies-docker-daemon.svg" />

As shown in the diagram above, the [daemon deployment strategy][docs.strategies.daemon]
is designed for data collection on a single host. In the context of Docker,
Vector is deplyed in it's own container, just like your other services, and it
collects and forwards all data on the host.
[Learn more...][docs.strategies.daemon]

---

<div className="steps steps--h3">

compose!

</div>
</TabItem>

<TabItem value="docker-compose-sidecar">

<SVG src="/img/deployment-strategies-docker-sidecar.svg" />

As shown in the diagram above, the [sidecar deployment strategy][docs.strategies.sidecar]
is designed to collect data from a single service. Vector has a 1 to 1
relationship with each service on the host. [Learn more...][docs.strategies.sidecar]

---

<div className="steps steps--h3">

compose!

</div>
</TabItem>

<TabItem value="docker-compose-service">

<SVG src="/img/deployment-strategies-docker-service.svg" />

As shown in the diagram above, the [service deployment strategy][docs.strategies.service]
treats Vector like any other service. Vector must be configured with [a source
that receives data over the network][urls.vector_receiving_sources], and the
upstream service must use that protocol to send data to Vector. This could be
another Vector instance using the [`vector` sink][docs.sinks.vector] or any
service that can send log data over the configured protocol.
[Learn more...][docs.strategies.daemon]

---

<div className="steps steps--h3">

compose!

</div>
</TabItem>
</Tabs>
</TabItem>
</Tabs>

## Configuring

As shown above, you can pass a custom
[Vector configuration file][docs.configuration] via the `-v` flag. You'll want
to do this since the
[default `/etc/vector/vector.toml` configuration file][urls.default_configuration]
doesn't do anything.

## Deploying

How you deploy Vector is largely dependent on your use case and environment.
Please see the [deployment section][docs.deployment] for more info on how to
deploy Vector.

## Updating

Simply run with newer version in the tag:

```bash
docker pull timberio/vector:X.X.X-alpine && \
  docker run timberio/vector:X.X.X-alpine
```

See the [variants](#variants) and [versions](#versions) sections to choose
the appropriate image for your use case.

## Images

### Variants

#### alpine

This image is based on the [`alpine` Docker image][urls.docker_alpine], which is
a Linux distribution built around musl libc and BusyBox. It is considerably
smaller in size than other Docker images and statically links libraries. This
is the image we recommend due to it's small size and reliability.

```bash
docker run timberio/vector:0.8.2-alpine
```

#### debian

This image is based on the [`debian-slim` image][urls.docker_debian],
which is a smaller, more compact variant of the [`debian` image][urls.docker_debian].

```bash
docker run timberio/vector:0.8.2-debian
```

### Architectures

Vector's images are multi-arch and support the
x86_64, ARM64, and ARMv7 architectures.
Docker handles this transparently for you.

### Versions

Vector's Docker images can be downloaded with the following tags. Note that
Vector maintains special tags that are automatically updated whenever Vector is
[released][urls.vector_releases]:

| Version          | URL                                                      |
|:-----------------|:---------------------------------------------------------|
| Latest major     | `timberio/vector:latest-alpine`               |
| Latest minor     | `timberio/vector:<MAJOR>.X-alpine`            |
| Latest patch     | `timberio/vector:<MAJOR.MINOR>.X-alpine`      |
| Specific version | `timberio/vector:<MAJOR.MINOR.PATCH>-alpine`  |
| Latest nightly   | `timberio/vector:nightly-alpine`              |
| Specific nightly | `timberio/vector:nightly-<YYYY-MM-DD>-alpine` |

### Source Files

Vector's Docker source files are located
[in it's Github repo][urls.vector_docker_source_files].


[docs.configuration]: /docs/setup/configuration/
[docs.deployment]: /docs/setup/deployment/
[docs.platforms.docker#variants]: /docs/setup/installation/platforms/docker/#variants
[docs.sinks.vector]: /docs/reference/sinks/vector/
[docs.strategies.daemon]: /docs/setup/deployment/strategies/daemon/
[docs.strategies.service]: /docs/setup/deployment/strategies/service/
[docs.strategies.sidecar]: /docs/setup/deployment/strategies/sidecar/
[urls.default_configuration]: https://github.com/timberio/vector/blob/master/config/vector.toml
[urls.docker_alpine]: https://hub.docker.com/_/alpine
[urls.docker_debian]: https://hub.docker.com/_/debian
[urls.docker_hub_vector]: https://hub.docker.com/r/timberio/vector
[urls.vector_docker_source_files]: https://github.com/timberio/vector/tree/master/distribution/docker
[urls.vector_receiving_sources]: https://vector.dev/components?functions%5B%5D=receive
[urls.vector_releases]: https://vector.dev/releases/latest
